# Нормализация базы данных Read-Tracker

Документ описывает процесс приведения структуры данных приложения Read-Tracker к нормальным формам. Цель нормализации — устранить избыточность, минимизировать аномалии обновления и обеспечить логическую целостность данных.

---

## 1. Предметная область

Read-Tracker — приложение для учёта прочитанных книг и ведения сессий чтения.  
Основные сущности:

- **Пользователь** — владелец данных.
- **Книга** — объект чтения, имеющий статус.
- **Сессия чтения** — запись о факте чтения.
- **Жанр** — категория книги.
- **Статус** — состояние книги («планируется», «читается», «прочитана»).

---

## 2. Денормализованный вариант (исходная логика модели)

При объединении всех данных в одну таблицу могли бы возникнуть:

- повторения информации о пользователе для каждой книги и каждой сессии;
- дублирование данных о жанрах во множестве записей;
- повторяющиеся сведения о статусах;
- зависимость значений одних атрибутов от других, не являющихся ключом.

Такая структура порождает аномалии вставки, удаления и обновления, а также избыточность.

---

## 3. Приведение к первой нормальной форме (1NF)

Условия 1NF:

- отсутствуют повторяющиеся группы;
- все атрибуты имеют атомарные значения;
- каждая запись имеет уникальный первичный ключ.

Применение к модели:

- сущности выделены в отдельные таблицы: Users, Books, Reading_Sessions, Genres, Statuses;
- каждый атрибут имеет одно значение;
- таблица Book_Genres реализует связь многие-ко-многим между книгами и жанрами.

---

## 4. Приведение ко второй нормальной форме (2NF)

Условие 2NF:

- в таблицах с составным ключом не должно быть частичных зависимостей.

В разработанной модели:

- каждая основная таблица имеет **простой первичный ключ** (user_id, book_id, session_id и т.д.);
- зависимость всех неключевых атрибутов идёт только от полного ключа;
- связь «книга — жанр» оформлена отдельной таблицей с составным PK, в которой нет дополнительных атрибутов → отсутствуют частичные зависимости.

Таким образом, таблицы удовлетворяют требованиям 2NF.

---

## 5. Приведение к третьей нормальной форме (3NF)

Условия 3NF:

- не должно быть транзитивных зависимостей;
- каждый неключевой атрибут зависит только от первичного ключа своей таблицы.

В смоделированной структуре:

- данные пользователей хранятся только в таблице Users;
- книги содержат только свои атрибуты и ссылки на справочники;
- статусы вынесены в отдельную таблицу Statuses;
- жанры — в таблицу Genres;
- таблица сессий чтения содержит информацию, относящуюся только к сессии.

Все таблицы удовлетворяют требованиям третьей нормальной формы.

---

## 6. Итоговая нормализованная схема

### Таблица Users
Содержит информацию о пользователях системы.

### Таблица Books
Хранит данные о книгах и содержит ссылки:
- на владельца (Users),
- на статус (Statuses).

### Таблица Reading_Sessions
Отражает факты чтения и связывается с книгами через внешний ключ book_id.

### Таблица Genres и Book_Genres
Реализуют справочник жанров и связь многие-ко-многим между книгами и жанрами.

### Таблица Statuses
Содержит список возможных состояний книги.

---

## 7. Вывод

Структура базы данных Read-Tracker приведена к требованиям 1NF, 2NF и 3NF:  
- избыточность исключена;  
- транзитивные зависимости отсутствуют;  
- логическая целостность данных обеспечена;  
- все связи реализованы через корректные внешние ключи.

База данных готова к дальнейшей разработке и использованию в приложении.
