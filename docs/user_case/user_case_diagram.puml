@startuml Диаграмма_Вариантов_Использования_ReadTracker

skinparam usecaseBorderColor #333
skinparam usecaseBackgroundColor #EEE
skinparam actorStyle "awesome"

actor "Пользователь" as User

rectangle "Система Read-Tracker" {

  ' Общие сценарии
  User --> (Просмотр библиотеки)
  User --> (Поиск книг)
  User --> (Просмотр статистики чтения)

  (Просмотр статистики чтения) ..> (Расчёт статистики) : <<include>>

  ' --- Книги ---
  User --> (Управление книгами)
  (Управление книгами) --> (Добавить книгу) : <<include>>
  (Управление книгами) --> (Редактировать книгу) : <<include>>
  (Управление книгами) --> (Удалить книгу)
  (Управление книгами) --> (Изменить статус книги)

  (Добавить книгу) ..> (Проверка данных) : <<include>>
  (Редактировать книгу) ..> (Проверка данных) : <<include>>

  ' Изменение статуса
  (Изменить статус книги) ..> (Авто-обновление прогресса) : <<extend>>

  ' --- Сессии чтения ---
  User --> (Управление сессиями чтения)
  (Управление сессиями чтения) --> (Добавить сессию чтения) : <<include>>
  (Управление сессиями чтения) --> (Редактировать сессию) : <<include>>
  (Управление сессиями чтения) --> (Удалить сессию)

  (Добавить сессию чтения) ..> (Проверка данных) : <<include>>
  (Редактировать сессию) ..> (Проверка данных) : <<include>>

  ' --- Жанры ---
  User --> (Управление жанрами)
  (Управление жанрами) --> (Добавить жанр) : <<include>>
  (Управление жанрами) --> (Редактировать жанр) : <<include>>
  (Управление жанрами) --> (Удалить жанр)

  (Добавить жанр) ..> (Проверка данных) : <<include>>
  (Редактировать жанр) ..> (Проверка данных) : <<include>>

}

@enduml
